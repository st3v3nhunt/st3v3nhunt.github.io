<!doctype html><html><head><link href=https://gmpg.org/xfn/11 rel=profile><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=generator content="Hugo 0.80.0"><title>App Specific Domain Names for Local Dev • A blog by st3v3nhunt</title><meta name=twitter:card content="summary"><meta name=twitter:title content="App Specific Domain Names for Local Dev"><meta name=twitter:description content="A common architectural style (at the time of writing) is to split up applications into many, smaller, more focussed applications."><meta property="og:title" content="App Specific Domain Names for Local Dev"><meta property="og:description" content="A common architectural style (at the time of writing) is to split up applications into many, smaller, more focussed applications."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.st3v3nhunt.me/posts/development/app-specific-domain-names-for-local-dev/"><meta property="article:published_time" content="2021-09-24T00:00:00+00:00"><meta property="article:modified_time" content="2021-09-24T00:00:00+00:00"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/monokai-sublime.min.css><link rel=stylesheet href=/scss/hyde-hyde.71157e768c4e111a23c3531b95e0cbb59bbef3c9e6901d36247cb53d6b6be258.css integrity="sha256-cRV+doxOERojw1MbleDLtZu+88nmkB02JHy1PWtr4lg="><link rel=stylesheet href=/scss/print.2744dcbf8a0b2e74f8a50e4b34e5f441be7cf93cc7de27029121c6a09f9e77bc.css integrity="sha256-J0Tcv4oLLnT4pQ5LNOX0Qb58+TzH3icCkSHGoJ+ed7w=" media=print><!--[if lt IE 9]><script src=https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js></script><script src=https://oss.maxcdn.com/respond/1.4.2/respond.min.js></script><![endif]--><link rel=apple-touch-icon-precomposed sizes=144x144 href=/apple-touch-icon-144-precomposed.png><link rel="shortcut icon" href=/favicon.png></head><body><div class=sidebar><div class=container><div class=sidebar-about><span class=site__title><a href=https://blog.st3v3nhunt.me>A blog by st3v3nhunt</a></span><p class=site__description></p></div><div class=collapsible-menu><input type=checkbox id=menuToggle>
<label for=menuToggle>A blog by st3v3nhunt</label><div class=menu-content><div><ul class=sidebar-nav><li><a href=/posts/><span>Posts</span></a></li></ul></div><section class=social><a href=https://twitter.com/st3v3nhunt rel=me><i class="fab fa-twitter fa-lg" aria-hidden=true></i></a><a href=https://github.com/st3v3nhunt rel=me><i class="fab fa-github fa-lg" aria-hidden=true></i></a></section></div></div><div class=copyright>&copy; 2022 st3v3nhunt
<a href=https://creativecommons.org/licenses/by-sa/4.0>CC BY-SA 4.0</a></div><div class=builtwith>Built with <a href=https://gohugo.io>Hugo</a> ❤️ <a href=https://github.com/htr3n/hyde-hyde>hyde-hyde</a>.</div></div></div><div class="content container"><article><header><h1>App Specific Domain Names for Local Dev</h1><div class=post__meta><i class="fas fa-calendar-alt"></i>24-09-2021
in
<a class="badge badge-category" href=/categories/development>DEVELOPMENT</a><br><i class="fas fa-tags"></i><a class="badge badge-tag" href=/tags/development>development</a>
<a class="badge badge-tag" href=/tags/practices>practices</a>
<a class="badge badge-tag" href=/tags/microservices>microservices</a><br><i class="fas fa-clock"></i>3 min read</div></header><div class=post><p>A common architectural style (at the time of writing) is to split up
applications into many, smaller, more focussed applications. Frequently this
style is known by the term <code>microservices</code>. When working with microservices
I&rsquo;ve rarely had the need to run, and actually use, more than a single web
application concurrently in my development environment.</p><blockquote><p>I&rsquo;m using the term <code>web application</code> here to mean a web site as opposed to an
API with an HTTP
interface. A major difference being that a web site will use cookies for
authentication, saving session data, preventing
<a href=https://owasp.org/www-community/attacks/csrf>Cross Site Request Forgery</a>,
etc. And, although a web based API will likely need some of the same features
these are often handled by a separate layer such as an API Gateway.</p></blockquote><p>For systems with several web apps wishing to be run locally, at the same time,
an issue can occur with cookies clashing. Cookies are specific to domains and
paths. The key name against which values are stored can be
different, however, for sites using libraries to handle cookie configuration it
is common for the key to be the same. Therefore, it is likely different web
apps running on the same host will end up
reading and writing the same values. This causes issues with unexpected values
being present, often resulting in the web app breaking.</p><p>Running the apps on different ports e.g.
<a href=http://localhost:5000>http://localhost:5000</a>,
<a href=http://localhost:8080>http://localhost:8080</a>, doesn&rsquo;t help as cookies have no
notion of port.</p><p>There are several ways to work around this. Perhaps the easiest option, for
situations with two sites is to access one site using <code>localhost</code> and the other
site with <code>127.0.0.1</code>. Doing so provides each web app with its' own cookie and
fixes the cookie clashing issue.</p><p>However, for situations with more than two web apps a different approach is
required. A good option is to create domain names on the development machine,
one for each web app. To do so, entries can be added into the machine&rsquo;s
<a href=https://en.wikipedia.org/wiki/Hosts_(file)>hosts file</a> e.g.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>127.0.0.1 admin-web.localhost
127.0.0.1 super-user-web.localhost
127.0.0.1 user-web.localhost
</code></pre></div><p>This results in being able to access as many different web sites as is
required. Additional benefits to using this approach include:</p><ul><li>Password managers will store each domain separately, preventing many, many
entries accumulating for <code>localhost</code>. An added bonus is deciding which password
to use is much easier if there is only a single choice!</li><li>The name of the subdomain can be meaningful, potentially mapped to the name
of the code repo, helping understand which code is running which site.</li><li>Ports become unnecessary for differentiating between web apps.</li><li>Other web based applications that run locally can have bespoke subdomains
created for them e.g.
<a href=https://redis.com/redis-enterprise/redis-insight/>RedisInsight</a> and
<a href=https://www.pgadmin.org/>pgAdmin</a>.</li></ul><p>It is worth noting the domain name does not need to be a subdomain of
<code>localhost</code>, however, doing this is useful as <code>localhost</code> is a
<a href=https://en.wikipedia.org/wiki/.localhost>reserved</a> domain name and is treated
in a special by many applications. This includes web browsers which will alert
you of accessing sites that are not secure unless they are served from the
<code>localhost</code> <a href=https://en.wikipedia.org/wiki/Top-level_domain>TLD</a>.</p></div><div class="navigation navigation-single"><a href=/posts/development/principles-general/ class=navigation-prev><i aria-hidden=true class="fa fa-chevron-left"></i><span class=navigation-tittle>General working principles</span></a>
<a href=/posts/development/communicating-changes-in-prs/ class=navigation-next><span class=navigation-tittle>Communicating changes in PRs</span>
<i aria-hidden=true class="fa fa-chevron-right"></i></a></div></article></div><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-21223368-5','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script defer src=https://use.fontawesome.com/releases/v5.12.1/js/all.js integrity=sha384-ZbbbT1gw3joYkKRqh0kWyRp32UAvdqkpbLedQJSlnI8iLQcFVxaGyrOgOJiDQTTR crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/highlight.min.js></script><script type=text/javascript>hljs.initHighlightingOnLoad();</script></body></html>